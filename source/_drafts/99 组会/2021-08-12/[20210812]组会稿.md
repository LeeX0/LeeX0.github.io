# 20210821组会

## 1. 规则重载

这部分已经写了文档上传了`/资料文档/Suricata文档/Suricata 规则重载`

###  两种规则重载方式

#### 1 `Signal`

```bash
kill -USR2 $(pidof suricata)
```

#### 2 `Unix socket`

```bash
suricatasc -c reload-rules
```

> Unix socket方式需要安装suricatasc脚本，通过普通编译方式安装则默认安装完成。
>
> 若未安装，通过如下命令在 `python/suricatasc` 下安装
>
> ```bash
> sudo python setup.py install
> ```

## 2. 配置界面

这部分也写了文档上传`/资料文档/界面开发/IPS配置界面方案`

### 2.1 接口编写

### 2.2 数据库

现在使用的DPDK+Suricata的版本，其中的**Suricata应该是基于6.x版本改进的7.0版本**。

也就是我们**用的版本肯定是在6以上**，**这样日志直接导出不能直接用mysql**。

我现在做配置方面影响还不是特别大，告警信息展示方面影响比较大。

### 2.3 配置界面方面具体问题

| 项目：     |                       管理测试（10分）                       |
| ---------- | :----------------------------------------------------------: |
| 重要性：   |                             必选                             |
| 优先级     |                              C                               |
| 测试目的： |                     检测被测设备管理能力                     |
| 测试步骤： | 1）可以查看配置及告警信息；2）可以对规则进行配置,如启用/不启用,修改动作，日志级别设置；3）可以更新规则文件 |
| 预期结果： | 1）可以查看配置及告警信息；2）可以对规则进行配置；3）规则库更新成功，引擎不重启 |

#### 2.3.1 `可以查看配置及告警信息`

配置信息也只需要查看

主要是告警信息的查看，应该指的是日志和告警数据导入数据库后展示

**态势感知 拓扑图**

#### 2.3.2 `可以对规则进行配置,如启用/不启用,修改动作，日志级别设置`

1. 规则配置是否启用，应该指的是规则集的启动吧。如果还指定某个具体的规则是否启用，成千上万的好像不太现实。

2. 修改动作，指的是修改某个具体规则的动作吗，drop、reject这些。相当于还是需要把所有规则展示出来，让用户可以进行某个规则的动作修改吗（按照规则集进行）
3. ~~日志级别设置，这部分指的是某个规则集还是某个规则集的告警信息的优先级吗？Suricata的规则只有一个优先级是关于这方面的内容而且没有涉及日志的概念。~~

#### 2.3.3 `可以更新规则文件`

见*1. 规则重载*

